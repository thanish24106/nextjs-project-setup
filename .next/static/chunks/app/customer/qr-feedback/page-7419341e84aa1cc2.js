(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(5155);r(2115);var s=r(9708),i=r(2085),n=r(9434);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:i,asChild:d=!1,...o}=e,l=d?s.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,n.cn)(c({variant:r,size:i,className:t})),...o})}},5365:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>c,TN:()=>o,XL:()=>d});var a=r(5155);r(2115);var s=r(2085),i=r(9434);let n=(0,s.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(n({variant:r}),t),...s})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,i.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}},5471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),s=r(2115),i=r(285),n=r(6695),c=r(8539),d=r(5365);function o(){let[e,t]=(0,s.useState)({type:"text",content:"",isRecording:!1,audioUrl:null,status:"idle"}),r=(0,s.useRef)(null),o=(0,s.useRef)([]),[l,u]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),v=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});r.current=new MediaRecorder(e),o.current=[],r.current.ondataavailable=e=>{o.current.push(e.data)},r.current.onstop=()=>{let e=new Blob(o.current,{type:"audio/webm"}),r=URL.createObjectURL(e);t(e=>({...e,audioUrl:r,status:"recorded",isRecording:!1}))},r.current.start(),t(e=>({...e,isRecording:!0,status:"recording"}))}catch(e){u("Could not access microphone. Please ensure you have granted permission."),console.error("Error accessing microphone:",e)}},h=async()=>{try{console.log("Submitting feedback:",{type:e.type,content:"text"===e.type?e.content:e.audioUrl}),g(!0),t({type:"text",content:"",isRecording:!1,audioUrl:null,status:"idle"})}catch(e){u("Failed to submit feedback. Please try again.")}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Share Your Feedback"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Help us improve by sharing your experience about our food safety and hygiene"})]}),(0,a.jsxs)(n.Zp,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"text"===e.type?"default":"outline",onClick:()=>t(e=>({...e,type:"text"})),className:"text"===e.type?"bg-black text-white":"",children:"Text Feedback"}),(0,a.jsx)(i.$,{variant:"voice"===e.type?"default":"outline",onClick:()=>t(e=>({...e,type:"voice"})),className:"voice"===e.type?"bg-black text-white":"",children:"Voice Feedback"})]}),l&&(0,a.jsx)(d.Fc,{variant:"destructive",children:(0,a.jsx)(d.TN,{children:l})}),x&&(0,a.jsx)(d.Fc,{children:(0,a.jsx)(d.TN,{className:"text-green-600",children:"Thank you for your feedback! Your response has been recorded."})}),"text"===e.type&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.T,{placeholder:"Please share your thoughts about our food safety and hygiene practices...",value:e.content,onChange:e=>t(t=>({...t,content:e.target.value})),className:"min-h-[200px]"}),(0,a.jsx)(i.$,{onClick:h,disabled:!e.content.trim(),className:"w-full bg-black hover:bg-gray-800",children:"Submit Feedback"})]}),"voice"===e.type&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:["idle"===e.status&&(0,a.jsx)(i.$,{onClick:v,className:"bg-black hover:bg-gray-800",children:"Start Recording"}),"recording"===e.status&&(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("div",{className:"animate-pulse text-red-600",children:"Recording..."}),(0,a.jsx)(i.$,{onClick:()=>{r.current&&e.isRecording&&(r.current.stop(),r.current.stream.getTracks().forEach(e=>e.stop()))},variant:"destructive",children:"Stop Recording"})]}),"recorded"===e.status&&e.audioUrl&&(0,a.jsxs)("div",{className:"space-y-4 w-full",children:[(0,a.jsx)("audio",{src:e.audioUrl,controls:!0,className:"w-full"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(i.$,{onClick:()=>{t(e=>({...e,audioUrl:null,status:"idle"}))},variant:"outline",children:"Record Again"}),(0,a.jsx)(i.$,{onClick:h,className:"bg-black hover:bg-gray-800",children:"Submit Recording"})]})]})]})})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"How to Share Feedback"}),(0,a.jsxs)("div",{className:"space-y-2 text-gray-600",children:[(0,a.jsx)("p",{children:"1. Choose your preferred feedback method (text or voice)"}),(0,a.jsx)("p",{children:"2. For text feedback: Type your message in the text box"}),(0,a.jsx)("p",{children:"3. For voice feedback: Click 'Start Recording' and speak clearly"}),(0,a.jsx)("p",{children:"4. Review your feedback before submitting"}),(0,a.jsx)("p",{children:"5. Click 'Submit' to send your feedback"})]})]})]})})}},6695:(e,t,r)=>{"use strict";r.d(t,{Zp:()=>i});var a=r(5155);r(2115);var s=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}},8539:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var a=r(5155);r(2115);var s=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2596),s=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9847:(e,t,r)=>{Promise.resolve().then(r.bind(r,5471))}},e=>{var t=t=>e(e.s=t);e.O(0,[352,441,684,358],()=>t(9847)),_N_E=e.O()}]);